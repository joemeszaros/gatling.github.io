




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SBT plugin &mdash; Gatling documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Maven+Pro:400,500,700" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata:400,700" type="text/css" />
    <link rel="stylesheet" href="/vendor/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="/vendor/javascripts/modernizr.min.js"></script>
    <script type="text/javascript" src="/vendor/javascripts/bootstrap.min.js"></script>
    <link rel="top" title="Gatling documentation" href="../index.html" />
    <link rel="up" title="Extensions" href="index.html" />
    <link rel="next" title="Maven Plugin" href="maven_plugin.html" />
    <link rel="prev" title="Extensions" href="index.html" />
<!--[if IE]>
<script src="/vendor/javascripts/html5shiv.min.js"></script>
<![endif]-->

<!--[if IE 6]>
<script src="/vendor/javascripts/PIE_IE678.min.js"></script>
<![endif]-->
<!--[if IE 7]>
<script src="/vendor/javascripts/PIE_IE678.min.js"></script>
<![endif]-->
<!--[if IE 9]>
<script src="/vendor/javascripts/PIE_IE9.min.js"></script>
<![endif]-->

<script type="text/javascript">
  // @formatter:off
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53375088-1', 'gatling.io');
  ga('send', 'pageview');
  // @formatter:on
</script>

<script type='text/javascript'>
  $(document).ready(function () {
    $('#affix').affix({
      offset: {
        top: 48
      }
    });

    $('body').scrollspy({
      target: '#affix'
    })
  });
</script>

  </head>
  <body role="document">
<header id="header" class="navbar navbar-static-top" role="banner">
  <div class="container">
    <div class="navbar" role="navigation">
      <form action="../search.html" class="col-xs-12 col-sm-6 col-md-4" method="get" role="form">
        <div class="form-group">
          <div class="input-group">
            <input type="text" class="form-control" name="q" placeholder="Search through the documentation"/>

            <div class="input-group-addon">
              <button type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
            <div class="input-group-addon">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
          </div>
        </div>
        <input type="hidden" name="check_keywords" value="yes"/>
        <input type="hidden" name="area" value="default"/>
      </form>

      <nav id="navbar-collapse" class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/#/">HOME</a></li>
          <li><a href="/#/download">DOWNLOAD</a></li>
          <li class="active"><a href="/#/docs">DOCUMENTATION</a></li>
          <li><a href="/#/services">PROFESSIONAL SERVICES</a></li>
          <li><a class="icon icon-github" href="https://github.com/gatling/gatling"></a></li>
          <li><a class="icon icon-twitter" href="https://twitter.com/GatlingTool"></a></li>
          <li><a class="icon icon-googlegroup" href="https://groups.google.com/forum/#!forum/gatling"></a></li>
        </ul>
      </nav>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
  </div>
</header>

<section id="doc">
  <div class="container">
    <section class="row">
      <div class="col-md-9">
          <ul class="breadcrumb">
            <li><a href="../index.html">Gatling documentation</a></li>
            <li><a href="index.html"
              accesskey="U">
              Extensions
              </a>
            </li>
            <li><a href="">
              SBT plugin
            </a></li>
          </ul>
          
  <div class="section" id="sbt-plugin">
<h1>SBT plugin<a class="headerlink" href="#sbt-plugin" title="Permalink to this headline">¶</a></h1>
<p>This SBT plugin integrates Gatling with SBT, allowing to use Gatling as a testing framework.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>Snapshots are available on Sonatype.</p>
<p>In <code class="docutils literal"><span class="pre">project/plugins.sbt</span></code>, add:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">addSbtPlugin</span><span class="o">(</span><span class="s">&quot;io.gatling&quot;</span> <span class="o">%</span> <span class="s">&quot;gatling-sbt&quot;</span> <span class="o">%</span> <span class="s">&quot;2.1.5&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>You&#8217;ll also need those two dependencies:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="s">&quot;io.gatling.highcharts&quot;</span> <span class="o">%</span> <span class="s">&quot;gatling-charts-highcharts&quot;</span> <span class="o">%</span> <span class="s">&quot;2.1.5&quot;</span> <span class="o">%</span> <span class="s">&quot;test&quot;</span>
<span class="s">&quot;io.gatling&quot;</span>            <span class="o">%</span> <span class="s">&quot;gatling-test-framework&quot;</span>    <span class="o">%</span> <span class="s">&quot;2.1.5&quot;</span> <span class="o">%</span> <span class="s">&quot;test&quot;</span>
</pre></div>
</div>
<p>And then, in your <code class="docutils literal"><span class="pre">.scala</span></code> build:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">io.gatling.sbt.GatlingPlugin</span>

<span class="k">lazy</span> <span class="k">val</span> <span class="n">project</span> <span class="k">=</span> <span class="nc">Project</span><span class="o">(...)</span>
                   <span class="o">.</span><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">GatlingPlugin</span><span class="o">)</span>
                   <span class="o">.</span><span class="n">settings</span><span class="o">(</span><span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="cm">/* Gatling dependencies */</span><span class="o">)</span>
</pre></div>
</div>
<p>or in your <code class="docutils literal"><span class="pre">.sbt</span></code> file, for SBT up to 0.13.5:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">val</span> <span class="n">test</span> <span class="k">=</span> <span class="n">project</span><span class="o">.</span><span class="n">in</span><span class="o">(</span><span class="n">file</span><span class="o">(</span><span class="s">&quot;.&quot;</span><span class="o">))</span>
  <span class="o">.</span><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">GatlingPlugin</span><span class="o">)</span>
  <span class="o">.</span><span class="n">settings</span><span class="o">(</span><span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="cm">/* Gatling dependencies */</span><span class="o">)</span>
</pre></div>
</div>
<p>or for 0.13.6 and later:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">GatlingPlugin</span><span class="o">)</span>

<span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="cm">/* Gatling dependencies */</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>As with any SBT testing framework, you&#8217;ll be able to run Gatling simulations using SBT standard <code class="docutils literal"><span class="pre">test</span></code>, <code class="docutils literal"><span class="pre">testOnly</span></code>, <code class="docutils literal"><span class="pre">testQuick</span></code>, etc... tasks.</p>
</div>
<div class="section" id="test-vs-integration-tests-configurations">
<h2>&#8216;Test&#8217; vs &#8216;Integration Tests&#8217; configurations<a class="headerlink" href="#test-vs-integration-tests-configurations" title="Permalink to this headline">¶</a></h2>
<p>This plugin offers two different custom SBT configurations, named <code class="docutils literal"><span class="pre">Gatling</span></code> and <code class="docutils literal"><span class="pre">GatlingIt</span></code>.
They are tied to different sources directories (see next section for more details) and therefore allow to separate your simulations according to your needs, should you desire it.</p>
<p>Ideally:</p>
<ul class="simple">
<li>Your simulations with low injection profiles, which may serve as functional tests, should live in &#8216;src/test&#8217; (the default source directory for the <code class="docutils literal"><span class="pre">Gatling</span></code> configuration), and run along your unit tests, since they would complete quickly</li>
<li>Longer, more complex simulations with high injection profiles, should live in &#8216;src/it&#8217; (the default source directory for the <code class="docutils literal"><span class="pre">GatlingIt</span></code> configuration) and be run on a as-needed basis.</li>
</ul>
<p>Also, since they&#8217;re tied to separate SBT configurations, your SBT settings can then be customized per configuration.
You can expect a relatively short simulation to run easily with the default JVM settings, but simulations with much higher load can very well require an increase of the max heap memory allowed for example).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the <code class="docutils literal"><span class="pre">GatlingIt</span></code> configuration, you must prefix the various tasks and settings you may want to use by <code class="docutils literal"><span class="pre">it</span></code>, e.g. <code class="docutils literal"><span class="pre">test</span></code> becomes <code class="docutils literal"><span class="pre">it:test</span></code>, etc...</p>
</div>
</div>
<div class="section" id="default-settings">
<h2>Default settings<a class="headerlink" href="#default-settings" title="Permalink to this headline">¶</a></h2>
<p>For the <code class="docutils literal"><span class="pre">Gatling</span></code> configuration :</p>
<ul class="simple">
<li>By default, Gatling simulations must be in <code class="docutils literal"><span class="pre">src/test/scala</span></code>, configurable using the <code class="docutils literal"><span class="pre">scalaSource</span> <span class="pre">in</span> <span class="pre">Gatling</span></code> setting.</li>
<li>By default, Gatling reports are written to <code class="docutils literal"><span class="pre">target/gatling</span></code>, configurable using the <code class="docutils literal"><span class="pre">target</span> <span class="pre">in</span> <span class="pre">Gatling</span></code> setting.</li>
</ul>
<p>For the <code class="docutils literal"><span class="pre">GatlingIt</span></code> configuration :</p>
<ul class="simple">
<li>By default, Gatling simulations must be in <code class="docutils literal"><span class="pre">src/it/scala</span></code>, configurable using the <code class="docutils literal"><span class="pre">scalaSource</span> <span class="pre">in</span> <span class="pre">GatlingIt</span></code> setting.</li>
<li>By default, Gatling reports are written to <code class="docutils literal"><span class="pre">target/gatling-it</span></code>, configurable using the <code class="docutils literal"><span class="pre">target</span> <span class="pre">in</span> <span class="pre">GatlingIt</span></code> setting.</li>
</ul>
</div>
<div class="section" id="additional-tasks">
<h2>Additional tasks<a class="headerlink" href="#additional-tasks" title="Permalink to this headline">¶</a></h2>
<p>Gatling&#8217;s SBT plugin also offers four additional tasks:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">startRecorder</span></code>: starts the Recorder, configured to save recorded simulations to the location specified by <code class="docutils literal"><span class="pre">scalaSource</span> <span class="pre">in</span> <span class="pre">Gatling</span></code> (by default, <code class="docutils literal"><span class="pre">src/test/scala</span></code>).</li>
<li><code class="docutils literal"><span class="pre">generateReport</span></code>: generates reports for a specified report folder.</li>
<li><code class="docutils literal"><span class="pre">lastReport</span></code>: opens by the last generated report in your web browser. A simulation name can be specified to open the last report for that simulation.</li>
<li><code class="docutils literal"><span class="pre">copyConfigFiles</span></code>: copies Gatling&#8217;s configuration files (gatling.conf &amp; recorder.conf) from the bundle into your project resources if they&#8217;re missing.</li>
<li><code class="docutils literal"><span class="pre">copyLogbackXml</span></code>: copies Gatling&#8217;s default logback.xml.</li>
</ul>
</div>
<div class="section" id="overriding-jvm-options">
<h2>Overriding JVM options<a class="headerlink" href="#overriding-jvm-options" title="Permalink to this headline">¶</a></h2>
<p>Gatling&#8217;s SBT plugin uses the same default JVM&nbsp;options as the bundle launchers or the Maven plugin, which should be sufficient for most simulations.
However, should you need to tweak them, you can use <code class="docutils literal"><span class="pre">overrideDefaultJavaOptions</span></code> to only override those default options, without replacing them completely.</p>
<p>E.g., if you want to tweak Xms/Xmx to give more memory to Gatling:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">javaOptions</span> <span class="n">in</span> <span class="nc">Gatling</span> <span class="o">:=</span> <span class="n">overrideDefaultJavaOptions</span><span class="o">(</span><span class="s">&quot;-Xms1024m&quot;</span><span class="o">,</span> <span class="s">&quot;-Xmx2048m&quot;</span><span class="o">)</span>
</pre></div>
</div>
</div>
</div>


        </div>
        <div class="col-md-3">
          <aside id="affix" class="visible-md visible-lg">
            <ul class="nav">
<li><a class="reference internal" href="#">SBT plugin</a><ul class="nav">
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#test-vs-integration-tests-configurations">&#8216;Test&#8217; vs &#8216;Integration Tests&#8217; configurations</a></li>
<li><a class="reference internal" href="#default-settings">Default settings</a></li>
<li><a class="reference internal" href="#additional-tasks">Additional tasks</a></li>
<li><a class="reference internal" href="#overriding-jvm-options">Overriding JVM options</a></li>
</ul>
</li>
</ul>

            
<hr>
<ul class="nav">
  <li>
    <a href="https://github.com/gatling/gatling/edit/master/src/sphinx/extensions/sbt_plugin.rst">Edit this page on Github</a>
  </li>
  <h5>Previous topic</h5>
  <li>
    <a href="index.html" title="Previous Chapter: Extensions">
      Extensions
    </a>
  </li>
  <h5>Next topic</h5>
  <li>
    <a href="maven_plugin.html" title="Next Chapter: Maven Plugin">
      Maven Plugin
    </a>
  </li>
</ul>
          </aside>
        </div>
      </div>
    </section>
  </div>
</section>

<footer id="footer">
  <header class="row-fluid">
    <div class="content-wrapper text-center">
      Gatling is an open-source load testing framework based on
      <strong>Scala</strong>, <strong>Akka</strong> and <strong>Netty</strong>
    </div>
  </header>
  <section class="row-fluid">
    <div class="content-wrapper text-center">&copy;2014 eBusiness Information 2000-2014</div>
  </section>
</footer>






  </body>
</html>